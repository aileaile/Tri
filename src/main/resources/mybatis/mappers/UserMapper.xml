<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.LL.Triangle.dao.UserMapper">
    <resultMap id="UserRM" type="com.LL.Triangle.pojo.po.UserPo" >
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="name" property="name" jdbcType="VARCHAR" />
        <result column="password" property="password" jdbcType="VARCHAR" />
        <result column="profile_picture" property="profilePicture" jdbcType="VARCHAR" />
        <result column="rmk1" property="rmk1" jdbcType="VARCHAR" />
        <result column="rmk2" property="rmk2" jdbcType="VARCHAR" />
        <result column="rmk3" property="rmk3" jdbcType="VARCHAR" />
        <result column="rmk4" property="rmk4" jdbcType="VARCHAR" />
        <result column="rmk5" property="rmk5" jdbcType="VARCHAR" />
        <result column="rmk6" property="rmk6" jdbcType="VARCHAR" />
        <result column="rmk7" property="rmk7" jdbcType="VARCHAR" />
        <result column="rmk8" property="rmk8" jdbcType="INTEGER" />
        <result column="rmk9" property="rmk9" jdbcType="INTEGER" />
        <result column="rmk10" property="rmk10" jdbcType="INTEGER" />
    </resultMap>

    <sql id="allCol" >
        id,name,password,profile_picture,rmk1,rmk2,rmk3,rmk4,rmk5,rmk6,rmk7,rmk8,rmk9,rmk10
    </sql>

    <select id="selectById" resultMap="UserRM" parameterType="java.lang.Integer" >
        select <include refid="allCol" /> from user
        where id = #{id,jdbcType=INTEGER}
    </select>

    <select id="findByNameAndPassword" resultMap="UserRM" parameterType="java.lang.String" >
        select <include refid="allCol" />  from user
        where name = #{name,jdbcType=VARCHAR} and password = #{password,jdbcType=VARCHAR};
    </select>

    <select id="selectByName" resultMap="UserRM" parameterType="java.lang.String">
        select <include refid="allCol" /> from user
        where name = #{name};
    </select>

    <delete id="deleteById" parameterType="java.lang.Integer" >
        delete from user where id = #{id,jdbcType=INTEGER}
    </delete>

    <insert id="insert" parameterType="com.LL.Triangle.pojo.po.UserPo" >
        insert into user (id, name, password,profile_picture, rmk1, rmk2,
        rmk3, rmk4, rmk5, rmk6,rmk7, rmk8, rmk9, rmk10)
        values (#{id,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR},
        #{profilePicture,jdbcType=VARCHAR}, #{rmk1,jdbcType=VARCHAR}, #{rmk2,jdbcType=VARCHAR},
        #{rmk3,jdbcType=VARCHAR}, #{rmk4,jdbcType=VARCHAR}, #{rmk5,jdbcType=VARCHAR}, #{rmk6,jdbcType=VARCHAR},
        #{rmk7,jdbcType=VARCHAR}, #{rmk8,jdbcType=INTEGER}, #{rmk9,jdbcType=INTEGER}, #{rmk10,jdbcType=INTEGER}
        )
    </insert>

    <update id="updateById" parameterType="com.LL.Triangle.pojo.po.UserPo" >
        update user
        <set >
            <if test="password != null" >
                password = #{password,jdbcType=VARCHAR},
            </if>
            <if test="profilePicture != null" >
                profile_picture = #{profilePicture,jdbcType=VARCHAR},
            </if>
            <if test="rmk1 != null" >
                rmk1 = #{rmk1,jdbcType=VARCHAR},
            </if>
            <if test="rmk2 != null" >
                rmk2 = #{rmk2,jdbcType=VARCHAR},
            </if>
            <if test="rmk3 != null" >
                rmk3 = #{rmk3,jdbcType=VARCHAR},
            </if>
            <if test="rmk4 != null" >
                rmk4 = #{rmk4,jdbcType=VARCHAR},
            </if>
            <if test="rmk5 != null" >
                rmk5 = #{rmk5,jdbcType=VARCHAR},
            </if>
            <if test="rmk6 != null" >
                rmk6 = #{rmk6,jdbcType=VARCHAR},
            </if>
            <if test="rmk7 != null" >
                rmk7 = #{rmk7,jdbcType=VARCHAR},
            </if>
            <if test="rmk8 != null" >
                rmk8 = #{rmk8,jdbcType=INTEGER},
            </if>
            <if test="rmk9 != null" >
                rmk9 = #{rmk9,jdbcType=INTEGER},
            </if>
            <if test="rmk10 != null" >
                rmk10 = #{rmk10,jdbcType=INTEGER},
            </if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>
</mapper>